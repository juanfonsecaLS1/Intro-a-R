---
title: "Práctica - Lo Básico de R"
lang: es
---

## Objetivos

En esta práctica aprenderemos a:

-   Usar R como calculadora para operaciones matemáticas
-   Crear y manipular objetos
-   Trabajar con diferentes tipos de datos
-   Crear y manipular vectores
-   Crear y trabajar con factores
-   Construir y explorar data frames

## 1. R como Calculadora

### Operaciones Básicas

R puede realizar todo tipo de operaciones matemáticas. Pruebe ejecutar lo siguiente:

```{r}
# Operaciones básicas
5 + 3      # Suma
10 - 4     # Resta
6 * 7      # Multiplicación
20 / 4     # División
```

### Operaciones Avanzadas

```{r}
# Potencias
2^3        # 2 elevado a la 3
10^2       # 10 al cuadrado

# Raíces
sqrt(16)   # Raíz cuadrada de 16
sqrt(25)

# Módulo (resto de división)
10 %% 3    # ¿Cuál es el resto de dividir 10 entre 3?
17 %% 5
```

### Orden de Operaciones

R sigue el orden matemático estándar (PEMDAS):

```{r}
# Sin paréntesis
2 + 3 * 4

# Con paréntesis
(2 + 3) * 4

# Operación más compleja
(10 + 5) / 3 - 2^2
```

:::{.callout-tip}
## Consejo
Use paréntesis para hacer sus operaciones más claras, incluso cuando no sean estrictamente necesarios.
:::

## 2. Creando y Usando Objetos

### Asignar Valores

Usamos el operador `<-` para asignar valores a objetos:

```{r}
# Crear objetos
x <- 5
y <- 3

# Ver los valores
x
y

# Usar los objetos en cálculos
x + y
x * y
x^y
```

:::{.callout-tip}
## Atajo de Teclado
- Windows/Linux: `Alt + -`
- Mac: `Option + -`

Esto escribe automáticamente ` <- `
:::

### Reasignar Valores

Puede cambiar el valor de un objeto:

```{r}
# Crear objeto
precio <- 100

# Ver el valor
precio

# Cambiar el valor
precio <- 120

# Ver el nuevo valor
precio

# Usar el objeto para crear otro
precio_con_iva <- precio * 1.19
precio_con_iva
```

### Reglas para Nombres

Practique creando objetos con nombres válidos:

```{r}
# Nombres válidos
mi_edad <- 25
dato_2024 <- 100
temperaturaPromedio <- 20.5
dato.final <- 42

# Ver todos
mi_edad
dato_2024
temperaturaPromedio
dato.final
```

:::{.callout-warning}
## Nombres inválidos
Estos NO funcionan:
```r
2024_dato <- 100     # No puede empezar con número
mi-edad <- 25        # No puede tener guiones
mi edad <- 30        # No puede tener espacios
```
:::

## 3. Tipos de Datos

### Datos Numéricos

```{r}
# Números enteros y decimales
edad <- 30
altura <- 1.75
peso <- 70.5

# Verificar el tipo
class(edad)
class(altura)

# Operaciones con números
imc <- peso / (altura^2)
imc
```

### Datos de Texto (Character)

```{r}
# Crear variables de texto
nombre <- "Ana García"
ciudad <- "Bogotá"
pais <- 'Colombia'

# Ver los valores
nombre
ciudad

# Verificar el tipo
class(nombre)
```

:::{.callout-note}
Puede usar comillas simples `'...'` o dobles `"..."` para texto. Son equivalentes.
:::

### Datos Lógicos

```{r}
# Valores lógicos
es_mayor_edad <- TRUE
tiene_descuento <- FALSE

# Ver valores
es_mayor_edad
tiene_descuento

# Verificar tipo
class(es_mayor_edad)
```

### Comparaciones

Las comparaciones producen valores lógicos:

```{r}
# Comparaciones
5 > 3
10 < 8
10 == 10
5 != 3

# Comparar objetos
edad <- 25
edad >= 18
edad < 21
```

### Tabla de Operadores

| Operador | Significado | Ejemplo |
|----------|-------------|---------|
| `==` | Igual a | `5 == 5` → `TRUE` |
| `!=` | Diferente de | `5 != 3` → `TRUE` |
| `>` | Mayor que | `5 > 3` → `TRUE` |
| `<` | Menor que | `5 < 3` → `FALSE` |
| `>=` | Mayor o igual | `5 >= 5` → `TRUE` |
| `<=` | Menor o igual | `3 <= 5` → `TRUE` |

## 4. Trabajando con Vectores

### Crear Vectores

Usamos `c()` para combinar valores en un vector:

```{r}
# Vector de números
edades <- c(25, 30, 35, 40, 45)
edades

# Vector de texto
nombres <- c("Ana", "Luis", "María", "Juan", "Carmen")
nombres

# Vector de valores lógicos
asistencia <- c(TRUE, TRUE, FALSE, TRUE, FALSE)
asistencia
```

### Secuencias

Hay formas rápidas de crear secuencias:

```{r}
# Secuencia simple con :
numeros <- 1:10
numeros

# Secuencia más específica con seq()
secuencia <- seq(from = 0, to = 100, by = 10)
secuencia

# Valores repetidos con rep()
repetido <- rep(5, times = 7)
repetido
```

### Operaciones con Vectores

R realiza operaciones elemento por elemento:

```{r}
# Operaciones aritméticas
x <- c(1, 2, 3, 4, 5)

x + 10    # Suma 10 a cada elemento
x * 2     # Multiplica cada elemento por 2
x^2       # Eleva cada elemento al cuadrado

# Operaciones entre vectores
y <- c(10, 20, 30, 40, 50)
x + y     # Suma elemento por elemento
x * y     # Multiplica elemento por elemento
```

### Estadísticas Básicas

```{r}
# Crear vector de datos
calificaciones <- c(85, 90, 78, 92, 88, 76, 95, 89)

# Calcular estadísticas
mean(calificaciones)      # Promedio
median(calificaciones)    # Mediana
sum(calificaciones)       # Suma total
min(calificaciones)       # Valor mínimo
max(calificaciones)       # Valor máximo
length(calificaciones)    # Cantidad de elementos
```

### Indexación de Vectores

Acceder a elementos específicos de un vector:

```{r}
nombres <- c("Ana", "Luis", "María", "Juan", "Carmen")

# Primer elemento
nombres[1]

# Tercer elemento
nombres[3]

# Múltiples elementos
nombres[c(1, 3, 5)]

# Rango de elementos
nombres[2:4]

# Todos excepto uno
nombres[-2]
```

:::{.callout-tip}
## Índices en R
En R, los índices empiezan en 1 (no en 0 como en otros lenguajes).
:::

## 5. Factores para Datos Categóricos

### ¿Qué es un Factor?

Los factores son útiles para representar categorías:

```{r}
# Crear un vector de categorías
nivel_educacion <- c("Secundaria", "Universidad", "Primaria", 
                     "Universidad", "Secundaria", "Primaria")

# Ver como texto
nivel_educacion
class(nivel_educacion)
```

### Convertir a Factor

```{r}
# Convertir a factor
nivel_educacion_f <- factor(nivel_educacion,
                            levels = c("Primaria", "Secundaria", "Universidad"))

# Ver el factor
nivel_educacion_f

# Verificar el tipo
class(nivel_educacion_f)

# Ver los niveles
levels(nivel_educacion_f)
```

### ¿Por qué usar Factores?

```{r}
# Los factores mantienen las categorías incluso si no están presentes
dias_semana <- factor(c("Lunes", "Martes", "Lunes"),
                      levels = c("Lunes", "Martes", "Miércoles", 
                                "Jueves", "Viernes"))
dias_semana

# Útil para tablas de frecuencia
table(dias_semana)  # Muestra TODOS los niveles, incluso con 0
```

### Factores Ordenados

Para categorías con orden lógico:

```{r}
# Crear factor ordenado
satisfaccion <- factor(c("Alto", "Medio", "Bajo", "Alto", "Medio", "Bajo"),
                      levels = c("Bajo", "Medio", "Alto"),
                      ordered = TRUE)

satisfaccion

# Ahora se pueden comparar
satisfaccion[1]     # "Alto"
satisfaccion[3]     # "Bajo"
satisfaccion[1] > satisfaccion[3]  # TRUE
```

## 6. Data Frames: Tablas de Datos

### Usar Data Frames Incluidos en R

R incluye varios datasets que podemos usar para practicar. Uno muy común es `mtcars` (datos de automóviles):

```{r}
# Ver el data frame mtcars (incluido en R)
mtcars

# Ver solo las primeras filas
head(mtcars)
```

:::{.callout-note}
## Datasets Incluidos
R viene con muchos datasets de ejemplo. Use `data()` para ver la lista completa.
:::

### Explorar Data Frames

```{r}
# Ver estructura
str(mtcars)

# Ver dimensiones
dim(mtcars)      # filas y columnas
nrow(mtcars)     # número de filas (32 autos)
ncol(mtcars)     # número de columnas (11 variables)

# Ver nombres de columnas
names(mtcars)

# Resumen estadístico
summary(mtcars)
```

### Acceder a Columnas

Hay varias formas de acceder a columnas:

```{r}
# Usar el símbolo $
mtcars$mpg      # Millas por galón
mtcars$cyl      # Número de cilindros

# Usar corchetes con nombre
mtcars[, "hp"]  # Caballos de fuerza

# Usar corchetes con número
mtcars[, 1]     # Primera columna (mpg)

# Seleccionar múltiples columnas
mtcars[, c("mpg", "cyl", "hp")]
```

### Acceder a Filas

```{r}
# Primera fila (primer auto)
mtcars[1, ]

# Primeros tres autos
mtcars[1:3, ]

# Autos específicos
mtcars[c(1, 5, 10), ]
```

### Acceder a Elementos Específicos

```{r}
# Fila 1, columna 1
mtcars[1, 1]

# Fila 5, columna "hp"
mtcars[5, "hp"]

# Múltiples filas y columnas
mtcars[1:3, c("mpg", "cyl", "hp")]
```

### Estadísticas por Columna

```{r}
# Promedio de millas por galón
mean(mtcars$mpg)

# Máximo de caballos de fuerza
max(mtcars$hp)

# Mínimo peso (en 1000 lbs)
min(mtcars$wt)

# Mediana de cilindros
median(mtcars$cyl)
```


## 7. Ejercicio Integrador

Ahora vamos a combinar todo lo que hemos aprendido usando el dataset `iris`.

```{r}
# 1. Explorar el dataset iris
head(iris)
str(iris)

# 2. Extraer longitud de sépalos
longitud_sepalo <- iris$Sepal.Length

# 3. Calcular estadísticas
promedio <- mean(longitud_sepalo)
maximo <- max(longitud_sepalo)
minimo <- min(longitud_sepalo)

cat("Promedio:", promedio, "\n")
cat("Máximo:", maximo, "\n")
cat("Mínimo:", minimo, "\n")

# 4. Filtrar flores con sépalos largos (> 7 cm)
sepalo_largo <- iris[iris$Sepal.Length > 7, ]
nrow(sepalo_largo)

# 5. Comparar especies
promedio_setosa <- mean(iris[iris$Species == "setosa", "Petal.Length"])
promedio_versicolor <- mean(iris[iris$Species == "versicolor", "Petal.Length"])
promedio_virginica <- mean(iris[iris$Species == "virginica", "Petal.Length"])

# 6. Crear resumen
resumen <- data.frame(
  especie = c("setosa", "versicolor", "virginica"),
  promedio_petalo = c(promedio_setosa, promedio_versicolor, promedio_virginica)
)

resumen
```

:::{.callout-tip}
## ¡Excelente Trabajo!
Ha completado la práctica del Tema 2. Ahora domina los conceptos básicos de R: objetos, tipos de datos, vectores, factores y data frames.
:::

## Resumen de Funciones Importantes

| Función | Descripción | Ejemplo |
|---------|-------------|---------|
| `class()` | Tipo de objeto | `class(x)` |
| `c()` | Combinar valores | `c(1, 2, 3)` |
| `seq()` | Crear secuencia | `seq(1, 10, 2)` |
| `rep()` | Repetir valores | `rep(5, 3)` |
| `length()` | Longitud de vector | `length(x)` |
| `mean()` | Promedio | `mean(x)` |
| `sum()` | Suma | `sum(x)` |
| `min()` | Mínimo | `min(x)` |
| `max()` | Máximo | `max(x)` |
| `factor()` | Crear factor | `factor(x)` |
| `levels()` | Ver niveles | `levels(f)` |
| `data.frame()` | Crear tabla | `data.frame(x, y)` |
| `str()` | Estructura | `str(df)` |
| `head()` | Primeras filas | `head(df)` |
| `dim()` | Dimensiones | `dim(df)` |
| `nrow()` | Número de filas | `nrow(df)` |
| `ncol()` | Número de columnas | `ncol(df)` |
| `names()` | Nombres de columnas | `names(df)` |
| `summary()` | Resumen estadístico | `summary(df)` |


:::{.callout-tip}
## Recomendación
Practique escribiendo el código usted mismo en lugar de solo copiarlo y pegarlo.
:::
