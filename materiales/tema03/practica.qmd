---
title: "Tema 3: Práctica - Importando y Explorando Datos"
lang: es
---

## Objetivos

En esta práctica aprenderemos a:

-   Importar datos desde archivos CSV y Excel
-   Explorar datos usando funciones básicas
-   Obtener resúmenes estadísticos de nuestros datos

::: {.callout-note}
## Requisitos
Asegúrese de estar trabajando dentro de un proyecto de RStudio con las carpetas `data/`, `scripts/` y `results/` creadas (como aprendió en Tema 1).
:::

## 1. Preparación

### Instalar Paquetes Necesarios

Si aún no los tiene, instale los paquetes necesarios:

```{r}
#| eval: false
install.packages("readr")
install.packages("readxl")
```

### Cargar Paquetes

```{r}
library(readr)
library(readxl)
```

## 2. Importar Datos CSV

### Paso 1: Descargar Datos de Ejemplo

Para esta práctica, usaremos datos de ejemplo. Cree un archivo CSV de prueba:

```{r}
#| eval: false
# Crear datos de ejemplo
datos_ejemplo <- data.frame(
  nombre = c("Ana", "Luis", "María", "Juan", "Sofia"),
  edad = c(25, 30, 28, 35, 29),
  ciudad = c("Bogotá", "Medellín", "Cali", "Bogotá", "Cartagena"),
  salario = c(3000000, 3500000, 3200000, 4000000, 3300000)
)

# Guardar en la carpeta data/
write.csv(datos_ejemplo, "data/empleados.csv", row.names = FALSE)
```

### Paso 2: Importar el Archivo CSV

```{r}
#| eval: false
# Importar datos
empleados <- read_csv("data/empleados.csv")

# Ver los datos
empleados
```

::: {.callout-tip}
Usar rutas relativas como `"data/empleados.csv"` funciona porque estamos en un proyecto de RStudio.
:::

## 3. Explorar los Datos

### Ver Primeras Filas

```{r}
#| eval: false
# Primeras 6 filas (por defecto)
head(empleados)

# Primeras 3 filas
head(empleados, n = 3)
```

### Ver Estructura

```{r}
#| eval: false
# Estructura del data frame
str(empleados)
```

Esto muestra:
- Número de observaciones (filas) y variables (columnas)
- Tipo de cada variable (character, numeric, etc.)
- Primeros valores de cada variable

### Resumen Estadístico

```{r}
#| eval: false
# Resumen de todas las variables
summary(empleados)
```

Para variables numéricas verá: mínimo, máximo, media, mediana, cuartiles.

### Otras Funciones Útiles

```{r}
#| eval: false
# Nombres de columnas
names(empleados)

# Dimensiones
dim(empleados)

# Número de filas
nrow(empleados)

# Número de columnas
ncol(empleados)

# Ver todo el data frame en el visor
View(empleados)
```

## 4. Importar Datos de Excel

### Crear un Archivo Excel de Ejemplo

```{r}
#| eval: false
# Instalar writexl si no lo tiene
install.packages("writexl")
library(writexl)

# Crear datos de ejemplo
ventas <- data.frame(
  producto = c("Laptop", "Mouse", "Teclado", "Monitor"),
  precio = c(2500000, 50000, 150000, 800000),
  unidades = c(10, 50, 30, 15)
)

# Guardar en Excel
write_xlsx(ventas, "data/ventas.xlsx")
```

### Importar desde Excel

```{r}
#| eval: false
# Cargar el paquete
library(readxl)

# Importar archivo Excel
ventas <- read_excel("data/ventas.xlsx")

# Ver datos
ventas
```

### Trabajar con Hojas Específicas

Si su archivo Excel tiene múltiples hojas:

```{r}
#| eval: false
# Ver qué hojas tiene el archivo
excel_sheets("data/ventas.xlsx")

# Leer una hoja específica
datos_hoja2 <- read_excel("data/ventas.xlsx", sheet = "Hoja2")

# O por número
datos_hoja2 <- read_excel("data/ventas.xlsx", sheet = 2)
```

## 5. Análisis Exploratorio Básico

Una vez importados los datos, podemos hacer análisis básicos:

```{r}
#| eval: false
# Calcular el salario promedio
mean(empleados$salario)

# Encontrar el salario máximo
max(empleados$salario)

# Contar empleados por ciudad
table(empleados$ciudad)

# Calcular ventas totales
sum(ventas$precio * ventas$unidades)
```

## 6. Guardar Objetos de R

Puede guardar objetos de R para usarlos después:

```{r}
#| eval: false
# Guardar un objeto
saveRDS(empleados, "data/empleados.rds")

# Cargar un objeto guardado
empleados <- readRDS("data/empleados.rds")
```

::: {.callout-tip}
Los archivos `.rds` preservan el tipo de datos de R y son más eficientes que CSV para trabajar exclusivamente en R.
:::

## Resumen de Funciones

| Función | Paquete | Descripción |
|---------|---------|-------------|
| `read_csv()` | readr | Importar CSV |
| `read_excel()` | readxl | Importar Excel |
| `head()` | base | Primeras filas |
| `str()` | base | Estructura |
| `summary()` | base | Resumen estadístico |
| `names()` | base | Nombres de columnas |
| `dim()` | base | Dimensiones |
| `View()` | base | Ver en visor |
| `saveRDS()` | base | Guardar objeto R |
| `readRDS()` | base | Cargar objeto R |

---

[Volver al inicio](../../index.qmd) | [Volver al Tema 3](index.qmd)

