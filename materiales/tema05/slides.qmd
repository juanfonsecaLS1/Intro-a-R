---
title: "Tema 5: La Gramática de los Gráficos con ggplot2"
subtitle: "Introducción al Análisis de Datos con R"
format: 
  revealjs:
    theme: simple
    slide-number: true
    chalkboard: true
    preview-links: auto
    footer: "Introducción a R - Tema 5"
    echo: true
lang: es
---

## Contenido {.smaller}

-   ¿Qué es la gramática de los gráficos?
-   Creando su primer gráfico: `ggplot()` y `geom_point()`
-   Gráficos de barras, histogramas y diagramas de caja

## La Gramática de los Gráficos

**Idea:** Construir gráficos por capas

::: {.incremental}
-   **Datos:** ¿Qué queremos graficar?
-   **Estéticas (aes):** ¿Qué variables van en x, y, color, etc.?
-   **Geometrías (geom):** ¿Puntos, líneas, barras?
:::

## Anatomía de un Gráfico ggplot2

```{r}
#| eval: false
ggplot(data = datos, aes(x = variable_x, y = variable_y)) +
  geom_point()
```

1.  `ggplot()`: inicializa el gráfico
2.  `aes()`: mapea variables a estéticas
3.  `geom_*()`: especifica tipo de gráfico

## Su Primer Gráfico: Dispersión

```{r}
#| eval: false
library(ggplot2)

ggplot(data = iris, aes(x = Sepal.Length, y = Sepal.Width)) +
  geom_point()
```

## Añadir Color

```{r}
#| eval: false
ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +
  geom_point()
```

## Gráfico de Barras

```{r}
#| eval: false
# Conteo simple
ggplot(iris, aes(x = Species)) +
  geom_bar()

# Con valores específicos
ggplot(datos_resumen, aes(x = categoria, y = valor)) +
  geom_col()
```

## Histogramas

```{r}
#| eval: false
ggplot(iris, aes(x = Sepal.Length)) +
  geom_histogram(bins = 20)
```

:::{.callout-tip}
`bins` controla el número de barras
:::

## Diagramas de Caja (Boxplot)

```{r}
#| eval: false
ggplot(iris, aes(x = Species, y = Sepal.Length)) +
  geom_boxplot()
```

Muestra: mediana, cuartiles, valores atípicos
