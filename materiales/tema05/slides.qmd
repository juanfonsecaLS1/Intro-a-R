---
title: "La Gramática de los Gráficos con ggplot2"
subtitle: "Introducción al Análisis de Datos con R"
format: 
  revealjs:
    theme: simple
    slide-number: true
    chalkboard: true
    preview-links: auto
    footer: "Introducción a R - La Gramática de los Gráficos"
    echo: true
toc: false
lang: es
---

## Contenido {.smaller}

-   ¿Qué es la gramática de los gráficos?
-   Creando su primer gráfico: `ggplot()` y `geom_point()`
-   Gráficos de barras, histogramas y diagramas de caja

## La Gramática de los Gráficos

**Idea:** Construir gráficos por capas

::: {.incremental}
-   **Datos:** ¿Qué queremos graficar?
-   **Estéticas (aes):** ¿Qué variables van en x, y, color, etc.?
-   **Geometrías (geom):** ¿Puntos, líneas, barras?
:::

## Anatomía de un Gráfico ggplot2

```{r}
#| eval: false
ggplot(data = datos, aes(x = variable_x, y = variable_y)) +
  geom_point()
```

1.  `ggplot()`: inicializa el gráfico
2.  `aes()`: mapea variables a escalas 
3.  `geom_*()`: especifica tipo de gráfico

## El Primer Gráfico: 1 de ... 

```{r}
library(ggplot2) # Cargar ggplot2 (sólo una vez)
```

## El Primer Gráfico: 2 de ... 


Especificar los datos
```{r}

ggplot(data = iris)

```

## El Primer Gráfico: 3 de ... 

Asignar las variables a escalas
```{r}
ggplot(data = iris, aes(x = Sepal.Length, y = Sepal.Width))
```

## El Primer Gráfico: 4 de ... 

Definir una geometría
```{r}
ggplot(data = iris, aes(x = Sepal.Length, y = Sepal.Width)) +
  geom_point()
```

## El Primer Gráfico: 5 de ... 

Añadir Color

```{r}
ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +
  geom_point()
```

## Gráfico de Barras

```{r}
# Conteo simple
ggplot(iris, aes(x = Species)) +
  geom_bar()


# Con valores específicos
# ggplot(datos_resumen, aes(x = categoria, y = valor)) +
#   geom_col()
```

## Histogramas

```{r}
ggplot(iris, aes(x = Sepal.Length)) +
  geom_histogram(bins = 20)
```

:::{.callout-tip}
`bins` controla el número de barras
:::

## Diagramas de Caja (Boxplot)

```{r}
ggplot(iris, aes(x = Species, y = Sepal.Length)) +
  geom_boxplot()
```

Muestra: mediana, cuartiles, valores atípicos

## Bonus: Esquisse para Gráficos Interactivos {.smaller}

¿Quieres crear gráficos sin escribir código? Prueba **esquisse**:

```{r}
#| eval: false
# Instalar esquisse (una sola vez)
install.packages("esquisse")

# Usar esquisse
library(esquisse)
esquisser(iris) # Abre interfaz gráfica interactiva
```

![](https://dreamrs.github.io/esquisse/reference/figures/esquisse.gif){width="80%"}


